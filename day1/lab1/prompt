
function promptLogin() {
  rl.question("\n Login\nEnter your username: ", (usernameInput) => {
    rl.question("Enter your password: ", async (passwordInput) => {
      const users = JSON.parse(fs.readFileSync("users.json", "utf8"));

      const foundUser = users.find(u => u.username === usernameInput);

      if (!foundUser) {
        console.log(" User not found.");
        rl.close();
        return;
      }

      const isMatch = await bcrypt.compare(passwordInput, foundUser.password);

      if (isMatch) {
        console.log(" Login successful!");
      } else {
        console.log(" Incorrect password.");
      }

      rl.close();
    });
  });
}
module.exports = promptLogin;